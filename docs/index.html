<!-- prettier-ignore -->
<body is="app-layout" lang="md">

# Ramidus Docs

Ramidus is a SPA framework built with, and designed for, custom elements.

## Table of Contents

- <spa-link href="#getting-started">Getting Started</spa-link>
- <spa-link href="#project-structure">Project Structure</spa-link>
- <spa-link href="#pages">Pages</spa-link>
- <spa-link href="#layouts">Layouts</spa-link>
- <spa-link href="#components">Components</spa-link>
- <spa-link href="#deployment">Deployment</spa-link>

## Getting Started

Setup is easy and no tooling is required. You can scaffold your project using `npx` or simply download [this zip file](https://codeload.github.com/jameslovallo/ramidus/zip/refs/heads/main).

```sh
npx ramidus@latest && npm run dev
```

## Project Structure

The "@" folder contains everything relevant to your application like components, assets and layouts. "@" is short for "app." This convention keeps the app folder first alphabetically so you don't lose it in your content.

<div class="tree">

<span><img src="/@/assets/folder-home.svg">@</span>
- <span><img src="/@/assets/folder-assets.svg">assets</span>
- <span><img src="/@/assets/folder-components.svg">components</span>
- <span><img src="/@/assets/folder-css.svg">css</span>
- <span><img src="/@/assets/file-js.svg">build.js</span>
- <span><img src="/@/assets/file-js.svg">main.js</span>
- <span><img src="/@/assets/file-json.svg">head.json</span>

<span><img src="/@/assets/folder.svg">docs</span>
- <span><img src="/@/assets/file-html.svg">index.html</span>

<span><img src="/@/assets/file-html.svg">index.html</span>

</div>

## Pages

Each page should have its own folder containing an index.html file, i.e. `/about/index.html`. Thanks to the power of custom elements, pages can share a layout by assigning a custom element containing the site's layout to the body.

### Minimum page structure

Every page should include the following:

1. A body tag with this `is` attribute assigned to a custom element that contains the page's layout.
2. A script tag loading `/@/main.js`. This loads the custom elemenets required to make the site operate as an SPA.
3. You can write the page in markdown by adding `lang="md"` to the body and writing markdown between the opening and closing body tags. If you use prettier, you'll need to add a `<!--prettier-ignore-->` comment before the body tag.

```html
&lt;body is="app-layout" lang="md"&gt;

# About Ramidus

This site is written in markdown.

<script src="/@/main.js" type="module"></script>

&lt;/body&gt;
```

### Linking to Pages

To enable SPA-style page loading, internal links should be handled using the `<spa-link>` element. Using a hash link will scroll to the element with the same ID.

```html
<spa-link href="/about">About Us</spa-link>
<spa-link href="#getting-started">Getting Started</spa-link>
```

## Layouts

A layout is a custom element containing the site's shared markup. Layouts should include the `<spa-root>` element with a nested `<slot>` to load the page's content. Here is the default layout included with Ramidus. Notice that the layout can contain any number of other components.

```html
<app-nav></app-nav>

<main>
  <spa-root>
    <slot></slot>
  </spa-root>
</main>

<app-footer></app-footer>
```

## Components

Global components live in `/@/components` and are registered in `/@/main.js`. Ramidus's core components are built with [Ardi](ardi.netlify.app), but you can use any custom element framework you like (or none).

## Deployment

No build step is required to deploy this site: you can run this project from a simple web server. There is an optional build step that provides a few benefits. 

### Benefits of Bulding
1. `&lt;head&gt;` is added to each page so it doesn't need to be generated when the page loads.
2. The page gracefully fades in after globally-registered components have loaded, preventing [Cumulative Layout Shift (CLS)](https://web.dev/cls/).

### Deploying to Netlify, Vercel or Similar
| Build Command | Publish Directory |
|---|---|
| npm run build | dist |

<script src="/@/main.js" type="module"></script>
</body>
